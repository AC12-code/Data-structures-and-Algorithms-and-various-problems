#bfs

class Solution:
    def numSquares(self, n: int) -> int:
        if n<2:return n
        lis=[]
        for i in range(1,n):
            if i*i<=n:
                lis.append(i*i)
        c={n}
        res=0
        while c:
            res+=1
            temp=set()
            for i in c:
                for j in lis:
                    if i==j:return res
                    if i<j:break
                
                    temp.add(i-j)
            c=temp
        return res
    
#dfs
class Solution:
    def numSquares(self, n: int) -> int:
        squares = []
        i = 1
        while i * i <= n:
            squares.append(i * i)
            i += 1
        
        memo = {}

        def dfs(rem):
            if rem == 0:
                return 0
            if rem in memo:
                return memo[rem]
            
            ans = float('inf')
            for s in squares:
                if s > rem:
                    break
                ans = min(ans, 1 + dfs(rem - s))
            
            memo[rem] = ans
            return ans
        
        return dfs(n)

    
